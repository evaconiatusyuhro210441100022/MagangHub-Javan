<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Halaman Profil Pengguna</title>
  <style>
    body {
      margin: 0;
      font-family: "Poppins", sans-serif;
      background: linear-gradient(135deg, #254d50, #326c85);
      color: #000000;
      display: flex;
      justify-content: center;
      align-items: center;
      min-height: 100vh;
      padding: 20px;
      transition: background 0.8s ease; /* biar transisinya halus */
    }

    .bungkus {
      display: flex;
      flex-direction: column;
      align-items: center;
      background: rgba(255, 255, 255, 0.05);
      border-radius: 16px;
      box-shadow: 0 8px 20px rgba(0, 0, 0, 0.4);
      padding: 24px;
      width: 100%;
      max-width: 420px;
      text-align: center;
      backdrop-filter: blur(8px);
    }

    img.foto {
      width: 140px;
      height: 140px;
      border-radius: 50%;
      border: 4px solid rgba(255, 255, 255, 0.2);
      margin-bottom: 12px;
      object-fit: cover;
    }

    .nama {
      font-weight: 600;
      font-size: 20px;
    }

    .email {
      color: #2670f0;
      font-size: 14px;
      margin-bottom: 8px;
    }

    .info {
      background: rgba(255, 255, 255, 0.06);
      padding: 10px;
      border-radius: 10px;
      text-align: left;
      width: 100%;
      font-size: 14px;
      line-height: 1.5;
      margin-top: 8px;
    }

    button {
      background: #4f46e5;
      color: #fff;
      border: none;
      padding: 10px 16px;
      border-radius: 10px;
      cursor: pointer;
      font-weight: 600;
      margin-top: 14px;
      transition: 0.3s;
    }

    button:hover {
      background: #6366f1;
    }

    footer {
      font-size: 12px;
      color: #000000;
      margin-top: 16px;
    }
  </style>
</head>
<body>

  <div class="bungkus">
    <img src="" alt="foto" class="foto" id="fotoUser" />
    <div class="nama" id="namaUser">Memuat...</div>
    <div class="email" id="emailUser">-</div>

    <div class="info">
      <p><strong>Jenis Kelamin:</strong> <span id="genderUser">-</span></p>
      <p><strong>Umur:</strong> <span id="umurUser">-</span></p>
      <p><strong>Asal Negara:</strong> <span id="negaraUser">-</span></p>
      <p><strong>Alamat:</strong> <span id="alamatUser">-</span></p>
      <p><strong>No. Telepon:</strong> <span id="teleponUser">-</span></p>
    </div>

    <button id="tombolGanti">Ganti Pengguna</button>
    <footer>Data diambil otomatis dari API randomuser.me</footer>
  </div>

  <script>
    const foto = document.getElementById("fotoUser");
    const nama = document.getElementById("namaUser");
    const email = document.getElementById("emailUser");
    const gender = document.getElementById("genderUser");
    const umur = document.getElementById("umurUser");
    const negara = document.getElementById("negaraUser");
    const alamat = document.getElementById("alamatUser");
    const telepon = document.getElementById("teleponUser");
    const tombol = document.getElementById("tombolGanti");

    // fungsi untuk ambil data dari API
    async function ambilData() {
      try {
        const res = await fetch("https://randomuser.me/api/?nat=id,us,gb,fr");
        const data = await res.json();
        const user = data.results[0];

        // isi data ke tampilan
        foto.src = user.picture.large;
        nama.textContent = `${user.name.title} ${user.name.first} ${user.name.last}`;
        email.textContent = user.email;
        gender.textContent = user.gender === "male" ? "Laki-laki" : "Perempuan";
        umur.textContent = user.dob.age + " tahun";
        negara.textContent = user.location.country;
        alamat.textContent = `${user.location.street.number} ${user.location.street.name}, ${user.location.city}`;
        telepon.textContent = user.phone;

        // ubah warna background setiap kali ganti user
        gantiWarnaLatar();

      } catch (err) {
        nama.textContent = "Gagal memuat data";
        console.error(err);
      }
    }

    // fungsi untuk ganti warna background secara acak
    function gantiWarnaLatar() {
      const warna = [
        "#264653", "#2a9d8f", "#e9c46a", "#f4a261", "#e76f51",
        "#8ecae6", "#219ebc", "#ffb703", "#fb8500", "#8338ec"
      ];
      const acak = warna[Math.floor(Math.random() * warna.length)];
      document.body.style.background = `linear-gradient(135deg, ${acak}, #ffffff22)`;
    }

    // klik tombol untuk ganti data baru
    tombol.addEventListener("click", ambilData);

    // ambil data pertama kali saat halaman dibuka
    ambilData();
  </script>
</body>
</html>
